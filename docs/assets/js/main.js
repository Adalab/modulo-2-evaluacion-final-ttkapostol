"use strict";console.log(">> Ready :)");const imgPlaceholder="https://via.placeholder.com/210x295/ffffff/666666/?text=TV",input=document.querySelector(".js-input"),searchBtn=document.querySelector(".js-search-btn"),resetBtn=document.querySelector(".js-reset-btn"),cocktailsList=document.querySelector(".js-list-cocktails"),favouritesList=document.querySelector(".js-list-favourites");let cocktailsListData=[],favouritesListData=[];const storedCocktails=JSON.parse(localStorage.getItem("cocktails"));function renderCocktail(t){return`<li class="li js-li-cocktail" id="${t.idDrink}">\n        <article class="li__article">\n            <h3 class="li__article--title">${t.strDrink}</h3>\n            <span class="fa-solid fa-heart hidden js-fav-btn"></span>\n            <img class="li__article--img" alt="Photo of the cocktail" title="Photo of the cocktail" src=${t.strDrinkThumb||imgPlaceholder} />\n            </article>\n    </li>`}function renderCocktailsList(t){for(const e of t)cocktailsList.innerHTML+=renderCocktail(e);addEventToCocktail()}function renderFavouritesList(t){favouritesList.innerHTML="";for(const e of t)favouritesList.innerHTML+=renderCocktail(e)}function handleClickCocktail(t){t.currentTarget.classList.toggle("selected");const e=t.currentTarget.id,i=cocktailsListData.find(t=>t.idDrink===e),a=favouritesListData.findIndex(t=>t.idDrink===e);-1===a?favouritesListData.push(i):favouritesListData.splice(a,1),renderFavouritesList(favouritesListData),localStorage.setItem("favourites",JSON.stringify(favouritesListData))}function addEventToCocktail(){const t=document.querySelectorAll(".js-li-cocktail");for(const e of t)e.addEventListener("click",handleClickCocktail)}function handleEnterSearch(t){13===t.keyCode&&handleClickSearch(t)}function handleClickSearch(t){t.preventDefault(),cocktailsList.innerHTML="";const e=input.value;fetch("http://www.thecocktaildb.com/api/json/v1/1/search.php?s="+e).then(t=>t.json()).then(t=>{cocktailsListData=t.drinks,renderCocktailsList(cocktailsListData)})}function handleClickRemoveFav(t){const e=t.currentTarget.id,i=listDataFavorites.findIndex(t=>t.idDrink===e);-1!==i&&listDataFavorites.splice(i,1),renderFavouritesList(favouritesListData),renderCocktailsList(cocktailsListData),localStorage.setItem("cocktails",JSON.stringify(favouritesListData))}function removeFromFav(){const t=document.querySelectorAll(".js-fav-btn");for(const e of t)e.addEventListener("click",handleClickRemoveFav)}function handleClickReset(t){t.preventDefault(),cocktailsList.innerHTML="",favouritesList.innerHTML="",input.value="",localStorage.removeItem("cocktails")}storedCocktails?(cocktailsListData=storedCocktails,renderCocktailsList(cocktailsListData),console.log("I have LS")):fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita").then(t=>t.json()).then(t=>{cocktailsListData=t.drinks,console.log(t.drinks),renderCocktailsList(cocktailsListData),localStorage.setItem("cocktails",JSON.stringify(cocktailsListData)),console.log("Hago fetch")}),resetBtn.addEventListener("click",handleClickReset),searchBtn.addEventListener("click",handleClickSearch),document.addEventListener("keypress",handleEnterSearch);